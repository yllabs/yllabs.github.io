<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>YLLabs Desktop</title>
<style>
/* ========= BASE WINDOWS 95 STYLES ========= */
body {
  background-color: #008080;
  font-family: "MS Sans Serif", Arial, sans-serif;
  margin: 0;
  height: 100vh;
  overflow: hidden;
}

.desktop {
  display: flex;
  flex-wrap: wrap;
  align-content: flex-start;
  padding: 20px;
  height: 100%;
}

/* Icons */
.icon {
  width: 80px;
  text-align: center;
  color: white;
  margin: 10px;
  cursor: pointer;
  user-select: none;
}
.icon img {
  width: 48px;
  height: 48px;
  image-rendering: pixelated;
}
.icon:hover {
  filter: brightness(1.1);
}

/* Windows */
.window {
  position: absolute;
  width: 420px;
  background: #c0c0c0;
  border: 2px solid #000;
  box-shadow: 3px 3px 0 #404040;
}

.title-bar {
  background: linear-gradient(#000080, #000060);
  color: white;
  padding: 4px 8px;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: move;
}

.title-bar button {
  background: #c0c0c0;
  border: 2px solid #fff;
  border-top-color: #808080;
  border-left-color: #808080;
  width: 16px;
  height: 16px;
  font-size: 12px;
  cursor: pointer;
  line-height: 10px;
}
.title-bar button:active {
  border: 2px inset #808080;
}

.window-content {
  background: #c0c0c0;
  padding: 8px;
  border-top: 2px solid #fff;
  border-left: 2px solid #fff;
  border-right: 2px solid #808080;
  border-bottom: 2px solid #808080;
}

.window iframe {
  width: 100%;
  height: 250px;
  border: none;
  background: white;
}

/* Scrollbar mimic */
::-webkit-scrollbar { width: 12px; background: #c0c0c0; }
::-webkit-scrollbar-thumb {
  background: #808080;
  border: 2px solid #c0c0c0;
}

/* Footer / taskbar */
footer {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 28px;
  background: linear-gradient(#c0c0c0, #a0a0a0);
  border-top: 2px solid #808080;
  display: flex;
  align-items: center;
  padding-left: 8px;
  font-size: 14px;
  color: black;
}
footer img {
  height: 18px;
  margin-right: 6px;
}
</style>
</head>
<body>
  <div class="desktop" id="desktop"></div>

  <footer>
    <img src="https://upload.wikimedia.org/wikipedia/commons/9/92/Windows_logo_-_1992.svg" alt="Start" />
    Start
  </footer>

<script>
/* ========= EASY APP CONFIG =========
Each entry can use:
 - type: "html" → loads from /apps/filename.html
 - type: "url"  → loads from full external link
*/
const apps = [
  { name: "About",  type: "html", file: "about.html",  icon: "icons/about.png" },
  { name: "Projects", type: "html", file: "projects.html", icon: "icons/projects.png" },
  { name: "Contact", type: "html", file: "contact.html", icon: "icons/contact.png" },
  { name: "YLLabs Site", type: "url", file: "https://yllabs.com", icon: "icons/browser.png" },
];

/* ========= RENDER ICONS ========= */
const desktop = document.getElementById("desktop");
apps.forEach(app => {
  const icon = document.createElement("div");
  icon.className = "icon";
  icon.innerHTML = `
    <img src="${app.icon}" alt="${app.name}" />
    <div>${app.name}</div>
  `;
  icon.onclick = () => openWindow(app);
  desktop.appendChild(icon);
});

/* ========= WINDOW LOGIC ========= */
let zIndex = 20;

function openWindow(app) {
  const src = app.type === "url" ? app.file : `apps/${app.file}`;
  const win = document.createElement('div');
  win.className = 'window';
  win.style.top = Math.random() * 40 + 80 + 'px';
  win.style.left = Math.random() * 100 + 80 + 'px';
  win.style.zIndex = zIndex++;

  win.innerHTML = `
    <div class="title-bar" onmousedown="dragStart(event,this.parentElement)">
      <span>${app.name}</span>
      <div>
        <button onclick="minimizeWindow(this)">_</button>
        <button onclick="this.parentElement.parentElement.parentElement.remove()">X</button>
      </div>
    </div>
    <div class="window-content">
      <iframe src="${src}" title="${app.name}"></iframe>
    </div>
  `;
  document.body.appendChild(win);
}

/* ========= MINIMIZE ========= */
function minimizeWindow(btn){
  const win = btn.closest(".window");
  const content = win.querySelector(".window-content");
  content.style.display = content.style.display === "none" ? "block" : "none";
}

/* ========= DRAG ========= */
let activeWin = null, offsetX = 0, offsetY = 0;
function dragStart(e, win){
  activeWin = win;
  offsetX = e.clientX - win.offsetLeft;
  offsetY = e.clientY - win.offsetTop;
  document.onmousemove = dragMove;
  document.onmouseup = dragStop;
  win.style.zIndex = zIndex++;
}
function dragMove(e){
  if(!activeWin) return;
  activeWin.style.left = (e.clientX - offsetX)+'px';
  activeWin.style.top  = (e.clientY - offsetY)+'px';
}
function dragStop(){
  document.onmousemove = null;
  document.onmouseup = null;
  activeWin = null;
}
</script>
</body>
</html>
